<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>XCOOL | ULTIMATE DASHBOARD</title>
    <style>
        :root { --neon: #00ffcc; --bg: #0a0a0b; --panel: #161618; --text: #e1e1e1; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; display: flex; height: 100vh; }

        /* Sol Men√º (Klas√∂rler/Sekmeler) */
        .sidebar { width: 260px; background: #000; border-right: 1px solid #222; display: flex; flex-direction: column; padding: 20px; }
        .logo { font-size: 24px; font-weight: 900; color: var(--neon); margin-bottom: 40px; text-align: center; border: 2px solid var(--neon); padding: 10px; }
        .tab-btn { background: none; border: none; color: #666; padding: 15px; text-align: left; font-size: 16px; cursor: pointer; transition: 0.3s; border-radius: 8px; margin-bottom: 5px; font-weight: bold; }
        .tab-btn:hover { background: #111; color: var(--neon); }
        .tab-btn.active { background: var(--neon); color: #000; }

        /* Ana Alan */
        .main { flex: 1; display: flex; flex-direction: column; padding: 30px; overflow: hidden; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        
        /* Dosya Y√ºkleme Alanƒ± */
        #drop-zone { border: 2px dashed #333; border-radius: 15px; padding: 30px; text-align: center; cursor: pointer; transition: 0.3s; background: rgba(255,255,255,0.02); margin-bottom: 20px; }
        #drop-zone:hover { border-color: var(--neon); background: rgba(0, 255, 204, 0.05); }

        /* Dosya Listesi */
        .file-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; overflow-y: auto; flex: 1; }
        .file-card { background: var(--panel); border-radius: 12px; padding: 15px; border: 1px solid #222; transition: 0.3s; position: relative; }
        .file-card:hover { border-color: var(--neon); transform: translateY(-3px); }
        .file-card b { display: block; font-size: 13px; margin: 10px 0; color: #fff; word-break: break-all; }
        
        .card-actions { display: flex; gap: 5px; margin-top: 10px; }
        .btn-sm { flex: 1; padding: 8px; border: none; border-radius: 5px; cursor: pointer; font-size: 11px; font-weight: bold; text-decoration: none; text-align: center; }
        .btn-view { background: #333; color: #fff; }
        .btn-down { background: var(--neon); color: #000; }

        /* √ñnizleme Paneli (Overlay) */
        .viewer-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 1000; flex-direction: column; padding: 40px; }
        .viewer-header { display: flex; justify-content: space-between; margin-bottom: 20px; }
        #viewer-content { flex: 1; background: #fff; border-radius: 10px; overflow: auto; display: flex; justify-content: center; align-items: center; color: #000; }
        .close-view { color: var(--neon); cursor: pointer; font-weight: bold; font-size: 20px; }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="logo">XCOOL OS</div>
    <button class="tab-btn active" onclick="switchTab('Genel')">üìÅ Genel Dosyalar</button>
    <button class="tab-btn" onclick="switchTab('Belgeler')">üìÇ Belgeler</button>
    <button class="tab-btn" onclick="switchTab('Medya')">üé¨ Medya</button>
    <button class="tab-btn" onclick="switchTab('Diger')">üß© Diƒüer</button>
</div>

<div class="main">
    <div class="header">
        <h2 id="current-tab-title">Genel Dosyalar</h2>
        <span id="file-count" style="color: #666; font-size: 14px;">0 Dosya</span>
    </div>

    <div id="drop-zone" onclick="document.getElementById('file-input').click()">
        <p>Dosyalarƒ± Buraya At veya <b>Tƒ±kla Se√ß</b></p>
        <input type="file" id="file-input" multiple hidden onchange="handleFiles(this.files)">
    </div>

    <div class="file-grid" id="file-grid">
        </div>
</div>

<div id="viewer" class="viewer-overlay">
    <div class="viewer-header">
        <h3 id="view-title">Dosya √ñnizleme</h3>
        <span class="close-view" onclick="closeViewer()">KAPAT [X]</span>
    </div>
    <div id="viewer-content">
        </div>
</div>

<script>
    let currentTab = 'Genel';
    let database = { 'Genel': [], 'Belgeler': [], 'Medya': [], 'Diger': [] };

    function switchTab(tabName) {
        currentTab = tabName;
        document.getElementById('current-tab-title').innerText = tabName;
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.classList.toggle('active', btn.innerText.includes(tabName));
        });
        renderFiles();
    }

    function handleFiles(files) {
        for (let file of files) {
            const fileObj = {
                name: file.name,
                type: file.type,
                size: (file.size / 1024).toFixed(1) + " KB",
                url: URL.createObjectURL(file),
                rawFile: file
            };
            database[currentTab].push(fileObj);
        }
        renderFiles();
    }

    function renderFiles() {
        const grid = document.getElementById('file-grid');
        grid.innerHTML = '';
        const files = database[currentTab];
        document.getElementById('file-count').innerText = files.length + " Dosya";

        files.forEach((file, index) => {
            const card = document.createElement('div');
            card.className = 'file-card';
            
            let icon = "üìÑ";
            if(file.type.includes('image')) icon = "üñºÔ∏è";
            if(file.type.includes('video')) icon = "üé•";
            if(file.type.includes('pdf')) icon = "üìï";

            card.innerHTML = `
                <div style="font-size: 40px;">${icon}</div>
                <b>${file.name}</b>
                <small style="color:#555">${file.size}</small>
                <div class="card-actions">
                    <button class="btn-sm btn-view" onclick="viewFile('${currentTab}', ${index})">A√á</button>
                    <a href="${file.url}" download="${file.name}" class="btn-sm btn-down">ƒ∞NDƒ∞R</a>
                </div>
            `;
            grid.appendChild(card);
        });
    }

    function viewFile(tab, index) {
        const file = database[tab][index];
        const viewer = document.getElementById('viewer');
        const content = document.getElementById('viewer-content');
        document.getElementById('view-title').innerText = file.name;
        
        content.innerHTML = '';
        viewer.style.display = 'flex';

        if (file.type.includes('image')) {
            content.innerHTML = `<img src="${file.url}" style="max-width:100%; max-height:100%;">`;
        } else if (file.type.includes('video')) {
            content.innerHTML = `<video src="${file.url}" controls style="max-width:100%; max-height:100%;"></video>`;
        } else if (file.type.includes('text') || file.name.endsWith('.txt') || file.name.endsWith('.html')) {
            const reader = new FileReader();
            reader.onload = (e) => {
                content.innerHTML = `<pre style="padding:20px; white-space:pre-wrap; width:100%; height:100%; overflow:auto;">${e.target.result}</pre>`;
            };
            reader.readAsText(file.rawFile);
        } else {
            content.innerHTML = `<div style="padding:40px; text-align:center;">
                <p>Bu dosya t√ºr√º doƒürudan √∂nizlenemiyor.</p>
                <br>
                <a href="${file.url}" download="${file.name}" class="btn-sm btn-down" style="padding:15px">Bƒ∞LGƒ∞SAYARA ƒ∞NDƒ∞R VE A√á</a>
            </div>`;
        }
    }

    function closeViewer() {
        document.getElementById('viewer').style.display = 'none';
        document.getElementById('viewer-content').innerHTML = '';
    }

    // S√ºr√ºkle-bƒ±rak desteƒüi
    window.addEventListener('dragover', e => e.preventDefault());
    window.addEventListener('drop', e => {
        e.preventDefault();
        handleFiles(e.dataTransfer.files);
    });
</script>

</body>
</html>
