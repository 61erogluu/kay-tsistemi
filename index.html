<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Reis YÃ¶netim Paneli â€” Responsive</title>
<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root{--bg:#0b1220;--card:#0f1724;--muted:#9bb0d1;--accent:#3a86ff;--accent-2:#2b6ed6;--panel:#0b1220;--text:#eaf2ff}
:root.light{--bg:#f3f6fb;--card:#fff;--muted:#55607a;--accent:#0d3b66;--accent-2:#0b3257;--panel:#fff;--text:#0e1a2f}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;color:var(--text);background:var(--bg)}
/* Splash */
#splash{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#0d3b66,#1e81b0);z-index:9999}
.splash-title{font-weight:800;letter-spacing:4px;font-size:clamp(28px,6vw,48px);color:#fff;text-align:center}
/* Layout */
.header{height:64px;display:flex;align-items:center;gap:12px;padding:0 16px;background:linear-gradient(180deg,rgba(0,0,0,.25),transparent);position:fixed;top:0;left:0;right:0;z-index:900;border-bottom:1px solid rgba(255,255,255,.03)}
.header .brand{font-weight:700}
.header .actions{margin-left:auto;display:flex;gap:8px;align-items:center}
.container{display:flex;padding-top:72px}
/* Sidebar */
.sidebar{width:260px;background:var(--card);height:100vh;padding:20px;position:fixed;left:0;top:72px;border-right:1px solid rgba(255,255,255,.03);overflow:auto;transition:transform .28s ease;z-index:800}
.sidebar.hidden{transform:translateX(-110%)}
.side-logo{font-weight:800;margin-bottom:14px}
.side-btn{display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;background:transparent;border:0;color:var(--text);cursor:pointer;width:100%;text-align:left}
.side-btn:hover{background:rgba(255,255,255,.03)}
/* Mobile hamburger */
.hamburger{display:none;padding:8px;border-radius:8px;cursor:pointer}
/* Main */
.main{margin-left:280px;padding:20px;flex:1;min-height:calc(100vh - 72px)}
.card{background:var(--panel);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,.03);box-shadow:0 8px 30px rgba(0,0,0,.4);margin-bottom:16px}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:10px;border-bottom:1px solid rgba(255,255,255,.03);text-align:left}
.form-row{display:flex;gap:8px}
.input, .select, .btn{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,.04);background:transparent;color:var(--text)}
.btn{cursor:pointer;background:var(--accent);border:0;color:#fff}
/* Login modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000}
.modal-box{width:96%;max-width:420px;background:var(--panel);padding:20px;border-radius:12px}
/* Animations */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes pop{from{transform:translateY(8px) scale(.98);opacity:0}to{transform:none;opacity:1}}
.fadeIn{animation:fadeIn .28s ease both}
.pop{animation:pop .28s ease both}
/* Responsive */
@media (max-width: 900px){.sidebar{position:fixed;top:64px;left:0;z-index:1000}.main{margin-left:0;padding:12px}.hamburger{display:block}.sidebar.hidden{transform:translateX(-120%)} }
@media (max-width:480px){.grid-3{grid-template-columns:1fr}.table th,.table td{font-size:13px}}
/* small helpers */
.hidden{display:none}
.center{text-align:center}
.badge{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.04)}
</style>
</head>
<body>

<div id="splash"><div class="splash-title">REÄ°S PANEL</div></div>

<header class="header">
  <div class="hamburger" id="hambBtn" aria-label="menu">â˜°</div>
  <div class="brand">REÄ°S YÃ¶netim Paneli</div>
  <div class="actions">
    <button id="themeBtn" class="side-btn">ğŸŒ™</button>
    <button id="openLogin" class="side-btn">Admin GiriÅŸ</button>
  </div>
</header>

<!-- Sidebar -->
<nav id="sidebar" class="sidebar hidden">
  <div class="side-logo">REÄ°S</div>
  <button class="side-btn" data-panel="dashboard">ğŸ  Dashboard</button>
  <button class="side-btn" data-panel="users">ğŸ‘¥ KullanÄ±cÄ±lar</button>
  <button class="side-btn" data-panel="add">â• Yeni KayÄ±t</button>
  <button class="side-btn" data-panel="settings">âš™ï¸ Ayarlar</button>
  <div style="margin-top:14px">
    <small class="center muted">Tema</small>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button id="light" class="side-btn">AÃ§Ä±k</button>
      <button id="dark" class="side-btn">Koyu</button>
    </div>
  </div>
</nav>

<main class="main">
  <!-- Panels -->
  <section id="dashboard" class="card fadeIn">
    <h2>Dashboard</h2>
    <div class="grid-3" style="margin-top:12px">
      <div class="card">
        <div>Toplam KullanÄ±cÄ±</div>
        <div style="font-weight:800;font-size:22px" id="statUsers">0</div>
      </div>
      <div class="card">
        <div>Aktif</div>
        <div style="font-weight:800;font-size:22px" id="statActive">0</div>
      </div>
      <div class="card">
        <div>BugÃ¼n</div>
        <div style="font-weight:800;font-size:22px" id="statToday">0</div>
      </div>
    </div>
    <div class="card" style="margin-top:12px">
      <canvas id="visitorsChart" height="80"></canvas>
    </div>
  </section>

  <section id="users" class="card hidden">
    <h2>KullanÄ±cÄ±lar</h2>
    <div style="overflow:auto;margin-top:12px">
      <table class="table" id="usersTable"><thead><tr><th>Ä°sim</th><th>Email</th><th>Durum</th><th>Ä°ÅŸlem</th></tr></thead><tbody></tbody></table>
    </div>
  </section>

  <section id="add" class="card hidden">
    <h2>Yeni KayÄ±t</h2>
    <div class="form-row" style="margin-top:12px;flex-direction:column">
      <input id="inpName" class="input" placeholder="Ä°sim" />
      <input id="inpMail" class="input" placeholder="E-posta" />
      <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn" id="addBtn">KayÄ±t Ekle</button>
        <button class="btn" id="clearBtn" style="background:#666">Temizle</button>
      </div>
    </div>
  </section>

  <section id="settings" class="card hidden">
    <h2>Ayarlar</h2>
    <div style="margin-top:12px">
      <label>Dark mode otomatik</label>
      <div style="height:12px"></div>
      <button id="exportBtn" class="btn">Verileri DÄ±ÅŸa Aktar (JSON)</button>
    </div>
  </section>
</main>

<!-- Login Modal -->
<div id="loginModal" class="modal hidden">
  <div class="modal-box pop">
    <h3 style="margin:0 0 8px">Admin GiriÅŸ</h3>
    <input id="loginUser" class="input" placeholder="KullanÄ±cÄ±" />
    <input id="loginPass" class="input" placeholder="Åifre" type="password" />
    <div style="display:flex;gap:8px;margin-top:10px;justify-content:flex-end">
      <button id="loginCancel" class="btn" style="background:#666">Ä°ptal</button>
      <button id="loginSubmit" class="btn">GiriÅŸ</button>
    </div>
    <p id="loginErr" style="color:#ff8b8b;margin-top:8px;display:none">Bilgiler hatalÄ±</p>
  </div>
</div>

<script>
// --- App state & helpers ---
const ADMIN = {user:'admin', pass:'1234'};
let users = JSON.parse(localStorage.getItem('rp_users')||'[]');
let theme = localStorage.getItem('rp_theme') || 'dark';
if(theme==='light') document.documentElement.classList.add('light');

// DOM refs
const sidebar = document.getElementById('sidebar');
const hamb = document.getElementById('hambBtn');
const sideBtns = Array.from(document.querySelectorAll('.side-btn[data-panel]'));
const panels = {dashboard:document.getElementById('dashboard'), users:document.getElementById('users'), add:document.getElementById('add'), settings:document.getElementById('settings')};
const usersTableBody = document.querySelector('#usersTable tbody');
const statUsers = document.getElementById('statUsers');
const statActive = document.getElementById('statActive');
const statToday = document.getElementById('statToday');
const loginModal = document.getElementById('loginModal');
const openLoginBtn = document.getElementById('openLogin');

// Splash
window.addEventListener('load',()=>{setTimeout(()=>{document.getElementById('splash').style.display='none'},900)});

// Sidebar toggle mobile
hamb.addEventListener('click',()=>{sidebar.classList.toggle('hidden')});
// side nav
sideBtns.forEach(b=>b.addEventListener('click',()=>{showPanel(b.dataset.panel); if(window.innerWidth<900) sidebar.classList.add('hidden')}));
function showPanel(id){Object.values(panels).forEach(p=>p.classList.add('hidden')); panels[id].classList.remove('hidden');}

// Initial
showPanel('dashboard');

// Theme toggles
document.getElementById('light').addEventListener('click',()=>{document.documentElement.classList.add('light'); localStorage.setItem('rp_theme','light')});
document.getElementById('dark').addEventListener('click',()=>{document.documentElement.classList.remove('light'); localStorage.setItem('rp_theme','dark')});

// Login modal
openLoginBtn.addEventListener('click',()=>{loginModal.classList.remove('hidden')});
document.getElementById('loginCancel').addEventListener('click',()=>{loginModal.classList.add('hidden')});
document.getElementById('loginSubmit').addEventListener('click',()=>{const u=document.getElementById('loginUser').value;const p=document.getElementById('loginPass').value;if(u===ADMIN.user&&p===ADMIN.pass){localStorage.setItem('rp_admin','1');loginModal.classList.add('hidden');openAdmin();}else{document.getElementById('loginErr').style.display='block'}});

function openAdmin(){sidebar.classList.remove('hidden');document.querySelector('.main').scrollTop=0;showPanel('dashboard');renderAll();}
if(localStorage.getItem('rp_admin')) openAdmin();

// Users render
function renderUsers(){usersTableBody.innerHTML='';users.forEach((u,i)=>{const tr=document.createElement('tr');tr.innerHTML=<td>${u.name}</td><td>${u.mail}</td><td>${u.active?'<span class="badge">Aktif</span>':'<span class="badge">Pasif</span>'}</td><td><button onclick="editUser(${i})">DÃ¼zenle</button> <button onclick="delUser(${i})">Sil</button></td>;usersTableBody.appendChild(tr)});updateStats();}
function updateStats(){statUsers.innerText = users.length;statActive.innerText = users.filter(u=>u.active).length;statToday.innerText = users.filter(u=>{const d = new Date(u.created); const n=new Date(); return d.toDateString()===n.toDateString()}).length}

// Add user
document.getElementById('addBtn').addEventListener('click',()=>{const name=document.getElementById('inpName').value.trim();const mail=document.getElementById('inpMail').value.trim();if(!name||!mail){alert('Eksik bilgi');return;}users.push({name,mail,active:true,created:new Date().toISOString()});localStorage.setItem('rp_users',JSON.stringify(users));document.getElementById('inpName').value='';document.getElementById('inpMail').value='';renderUsers();alert('KullanÄ±cÄ± eklendi')});

document.getElementById('clearBtn').addEventListener('click',()=>{document.getElementById('inpName').value='';document.getElementById('inpMail').value=''});

// Edit / Delete
function delUser(i){if(!confirm('Silinsin mi?')) return;users.splice(i,1);localStorage.setItem('rp_users',JSON.stringify(users));renderUsers()}
function editUser(i){const n=prompt('Yeni isim',users[i].name);const m=prompt('Yeni email',users[i].mail);if(n&&m){users[i].name=n;users[i].mail=m;localStorage.setItem('rp_users',JSON.stringify(users));renderUsers()}}

// Export
document.getElementById('exportBtn').addEventListener('click',()=>{const data='data:application/json;charset=utf-8,'+encodeURIComponent(JSON.stringify(users));const a=document.createElement('a');a.href=data;a.download='users.json';a.click()});

// Chart
let visitorsChart;
function renderChart(){const ctx=document.getElementById('visitorsChart').getContext('2d');const labels=['Pzt','Sal','Ã‡ar','Per','Cum','Cmt','Paz'];const values = [3,5,2,6,4,7,5]; if(visitorsChart) visitorsChart.destroy(); visitorsChart=new Chart(ctx,{type:'line',data:{labels, datasets:[{label:'ZiyaretÃ§i',data:values,fill:true,backgroundColor:'rgba(58,134,255,.12)',borderColor:'#3a86ff',tension:0.4}]},options:{responsive:true,plugins:{legend:{display:false}},animation:{duration:800}}});}

function renderAll(){renderUsers();renderChart();}

// initial load
renderAll();

// accessibility: keyboard close modal
document.addEventListener('keydown',e=>{if(e.key==='Escape'){loginModal.classList.add('hidden')}});

</script>
</body>
</html>
